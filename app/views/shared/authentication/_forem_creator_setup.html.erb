<% if FeatureFlag.enabled?(:creator_onboarding) %>
  <div id="creator-setup-form" class="mt-8 mb-6 p-7 align-left mx-auto" style="max-width:580px;">
    <% if flash[:notice] %>
      <div class="crayons-notice crayons-notice--danger mb-6" role="alert">
        <%= flash[:notice] %>
      </div>
    <% end %>

    <%= form_tag(admin_creator_settings_path, method: "post") do %>
      <% if defined?(resource) && resource&.errors&.any? %>
        <div class="crayons-card crayons-card--secondary crayons-notice crayons-notice--danger" role="alert" data-testid="signup-errors">
          <div class="crayons-card__header">
            <h3 class="crayons-card__headline">
              Whoops, we found <%= pluralize(resource.errors.size, "problem") %>
            </h3>
          </div>
          <div class="crayons-card__body">
            <ul>
              <% resource.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      <% end %>

      <div class="align-center">
        <p class="pb-4 fs-3xl fw-bold">Lovely! Let's set up your Forem.</p>
        <p class="color-base-70 fs-xl">No stress, you can always change it later.</p>
      </div>
      <br>

      <%= inline_svg_tag("forem-background.svg", aria: true, title: "forem background", class: "absolute bottom-0 right-0") %>

      <div class="crayons-field mt-6 align-left">
        <%= label_tag :community_name, class: "crayons-field__label", aria: { label: "Community name" } do %>
          Community name
          <span class="crayons-field__required crayons-tooltip"></span>
          <p class="crayons-field__description">Used as the primary name for your Forem.</p>
        <% end %>
        <%= text_field_tag :community_name, "", placeholder: "Climbing Life", class: "crayons-textfield", required: true, style: "font-style:italic" %>
      </div>

      <div class="crayons-field mt-6 align-left">
      <%= label_tag :logo_svg, class: "crayons-field__label", aria: { label: "Logo" } do %>
        Logo
        <span class="crayons-field__required crayons-tooltip"></span>
        <p class="crayons-field__description">Ideally SVG, but PNG will work, too. Min size: 300x300px.</p>
      <% end %>
      <span style="display:block; border:none;">
        <%= file_field_tag :logo_svg, class: "crayons-btn crayons-btn--secondary", required: true, data: { action: "" } %>
      </span>

      <% if ::Settings::General.logo_svg.present? %>
        <div class="site-logo">
          <%= ::Settings::General.logo_svg.html_safe %>
        </div>
      <% end %>
      </div>

        <div class="crayons-field mt-6 align-left">
        <%= label_tag :primary_brand_color_hex, class: "crayons-field__label", aria: { label: "Brand color" } do %>
          Brand color
          <span class="crayons-field__required crayons-tooltip"></span>
          <p class="crayons-field__description">This will be the "accent" color used for buttons, links, etc.</p>
        <% end %>
        <%= color_field_tag :primary_brand_color_hex, 
                            class: "crayons-color-selector", 
                            pattern: "^#+([a-fA-F0-9]{6})$", 
                            required: true %>
      </div>


      <div class="crayons-field mt-6 align-left">
        <%= label_tag :invite_only_mode, class: "crayons-field__label", aria: { label: "Who can join this community?" } do %>
          Who can join this community?
        <% end %>

        <div className="crayons-field crayons-field--radio">
          <%= radio_button_tag :invite_only_mode, "0", class: "crayons-field crayons-field--radio", required: true %>
          <%= label_tag :invite_only_mode, "Everyone", value: "false" %>
          <br>
          <%= radio_button_tag :invite_only_mode, "1", class: "crayons-field crayons-field--radio", required: true %>
          <%= label_tag :invite_only_mode, "Only people who are invited", value: "true" %>
        </div>

      <div class="crayons-field mt-6 align-left">
        <%= label_tag :public, class: "crayons-field__label", aria: { label: "Who can view content in this community?" } do %>
          Who can view content in this community?
        <% end %>

        <div className="crayons-field crayons-field--radio">
          <%= radio_button_tag :public, "0", class: "crayons-field crayons-field--radio", required: true %>
          <%= label_tag :public, "Everyone", value: "false" %>
          <br>
          <%= radio_button_tag :public, "1", class: "crayons-field crayons-field--radio", required: true %>
          <%= label_tag :public, "Members only", value: "true" %>
        </div>

      <div class="crayons-field mt-6 align-left">
        <%= submit_tag "Finish", class: "crayons-btn btn--primary" %>
      </div>
    <% end %>
  </div>
<% end %>
